execution:
#  - concurrency: 5
#    ramp-up: 20s
#    hold-for: 2m
    scenario: CreateMaterial
    
settings:
  artifacts-dir: ./bzt/%Y-%m-%d_%H-%M-%S.%f
  check-interval: 5

scenarios:
  CreateMaterial:
    headers:
      Content-Type: application/json
      
    requests:
      - label: Call create new material API
        url: http://localhost:5156/api/allergens
        method: POST
        body-file: Requests/CreateNewMaterialRequest.json
        extract-jsonpath:
          createdMaterialId: $.id

      - label: Get newly created material
        url: http://localhost:5156/api/allergens/${createdMaterialId}
        method: GET
        assert:
          - assume-success: true
            contains:
              - ^200$
            not: false
            regexp: true
            subject: http-code